<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:Header,0:HeaderFooterSprite,0:Header.NonMtps;/Areas/Centers/Themes/StandardDevCenter/Content:0&amp;amp;v=7F52C071D2B962BB5178C70776743A06" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:Footer,0:HeaderFooterSprite,0:Footer.NonMtps,1:NewFooterSock,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;v=D687067D7228BA76C1F01AFBB7655AEC" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Creating Custom Controls in Universal Windows Platform UWP</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" />
        <link href="https://i1.code.msdn.s-msft.com/content/common/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="https://i1.code.msdn.s-msft.com/content/common/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>Creating Custom Controls in Universal Windows Platform UWP</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            Windows Phone Development, universal windows app, Universal Windows App Development, Universal Windows Platform
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            Blend, UWP, Custom Controls in Universal Windows Platform
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Phone, Data, Windows RT
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Updated</label>
                    <div id="LastUpdated">12/1/2015</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">MIT</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="https://code.msdn.microsoft.com/Creating-Custom-Controls-a031a7ea">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<h2><span>Why we need custom controls?</span></h2>
<p><span>Microsoft Blend Provided you the different controls that you can use in your application style, layout and animation. Let suppose you have to design profiles of 80 students of computer science batch. What you need every time to design profile.</span></p>
<ol>
<li><span>Rectangle</span> </li><li><span>Image Control</span> </li><li><span>TextBlock for Name</span> </li><li><span>TextBlock for Age</span> </li></ol>
<p><span>This will take average 35-40 seconds every time drag and drop of controls then changing content of each student. Approximately 55 minutes required for same basic steps of 80&rsquo;s students profile design. Here comes a think why not we create a custom
 control named &ldquo;ProfileDesign&rdquo; that would be composite of all required control for profile design by programming a class that inherits from one of the <a class="libraryLink" href="https://code.msdn.microsoft.com/Creating-Custom-Controls-a031a7ea/https://msdn.microsoft.com/en-US/library/System.Windows.Controls.aspx"  title="Auto generated link to System.Windows.Controls">System.Windows.Controls</a> classes of Windows Presentation Foundation (WPF) or Microsoft Silverlight.
 To include properties in our custom control that can be modified in the Properties panel of Blend, we define dependency properties in your class. So That we just drag and drop ProfileDesign control every time and update its properties respectively to each
 student. This is will reduce your attention and half the total time required as using generic method.</span></p>
<h3><strong>Now Let&rsquo;s starts how to create custom controls!</strong></h3>
<p><span>Please hold on before starting, be attentive, you have to focus just five minutes of your life and after that this technique or the versatility of Blend, I assured you will save your many hours of life.</span></p>
<h3><span>Setp1:</span></h3>
<p><span>In Blend 2015 create your windows universal blank app project here named it CustomControls.</span></p>
<p><span><img id="145419" src="description/1.PNG" alt="" width="942" height="577"><br>
</span></p>
<p>&nbsp;</p>
<h3><strong>Step 2:</strong></h3>
<p><span>Add new user control named ProfileDesign. For user control right click on you project click on add - -&gt; new item - - &gt; user control.</span></p>
<p><span><img id="145420" src="description/2.PNG" alt="" width="944" height="578"><br>
</span></p>
<h3><span>Step 3:</span></h3>
<p><span>Now in ProfileDesign Control we have to design the Rectangle, Image Control and two text Blocks for name and age respectively.</span></p>
<p><img id="145461" src="https://i1.code.msdn.s-msft.com/creating-custom-controls-a031a7ea/image/file/145461/1/3.png" alt="" width="751" height="451"></p>
<p>&nbsp;</p>
<h3><span>Step 4:</span></h3>
<p><span>Now we have to define the dependency propertied of these controls so that we can use these for data binding later. Open your class ProfileDesign.Xaml.Cs you will get by expanding ProfileDesign.Xaml. For creating dependcy properties write propdp,press
 tab twice.</span></p>
<p><span>1<sup>st</sup>&nbsp;For Rectangle properties we have use the Brush Property Name OverlayBrush,In typeof owner class name of the property (ProfileDesign) and then null the meta data, the data before the actual data.</span></p>
<p><span>2<sup>nd</sup>&nbsp;For the Image property we will use the ImageSource, Property name ProfileImage, update the owner class name (ProfileDesign) and metadata null.</span></p>
<p><span>3<sup>rd</sup>&nbsp;for the textBlocks Student name and age use string and named StudentName, StudentAge respectively with same owner class (ProfileDesign) and null meta data.</span></p>
<p><img id="145422" src="description/4.PNG" alt="" width="925" height="518"></p>
<p>&nbsp;</p>
<p><img id="145423" src="description/5.PNG" alt="" width="943" height="536"></p>
<p>&nbsp;</p>
<p><strong><span>Press Ctrl&#43;s, Ctrl&#43;Shift&#43;B.</span></strong></p>
<h3><span>Step 5 :</span></h3>
<p><span>Now binding the controls. Select the Image control form objects and timeline, in Properties Source, create databinding, databinding name, Element Name. Select User Control and in Path the name of property in our case ProfileImage. Respective properties
 for others controls as shown in inmages.</span></p>
<p><img id="145462" src="https://i1.code.msdn.s-msft.com/creating-custom-controls-a031a7ea/image/file/145462/1/6.png" alt="" width="751" height="451"></p>
<p>&nbsp;</p>
<p><img id="145425" src="description/7.PNG" alt="" width="438" height="492"></p>
<p>&nbsp;</p>
<p><img id="145463" src="https://i1.code.msdn.s-msft.com/creating-custom-controls-a031a7ea/image/file/145463/1/8.png" alt="" width="751" height="451"></p>
<p>&nbsp;</p>
<p><img id="145427" src="description/9.PNG" alt="" width="439" height="493"></p>
<p>&nbsp;</p>
<p><img id="145478" src="https://i1.code.msdn.s-msft.com/creating-custom-controls-a031a7ea/image/file/145478/1/10.png" alt="" width="751" height="450"></p>
<p>&nbsp;</p>
<p><img id="145429" src="description/11.PNG" alt="" width="438" height="495"></p>
<p>&nbsp;</p>
<p><img id="145430" src="description/12.PNG" alt="" width="438" height="496"></p>
<p><strong><span>Then Build the solution Ctrl&#43;Shift&#43;B.</span></strong></p>
<h3><span>Step 6:</span></h3>
<p><span>As Builded, go to the MainPage.xaml. In Assets let see, is my control available there?</span></p>
<p><span><img id="145479" src="https://i1.code.msdn.s-msft.com/creating-custom-controls-a031a7ea/image/file/145479/1/13.png" alt="" width="751" height="451"><br>
</span></p>
<p>&nbsp;</p>
<p><span>Now just drag and drop on main page. Go to properties. Remember all of the properties of our custom control except the brush are in the miscellaneous tab.</span></p>
<p><span>I have added the six ProfileDesign Controls in Main Page at miscellaneous tab click on Profile Image add the image. Student Name and Student Age.</span></p>
<p><span><img id="145450" src="https://i1.code.msdn.s-msft.com/creating-custom-controls-a031a7ea/image/file/145450/1/14.png" alt="" width="751" height="451"><br>
</span></p>
<p>&nbsp;</p>
<p><img id="145458" src="https://i1.code.msdn.s-msft.com/creating-custom-controls-a031a7ea/image/file/145458/1/15.png" alt="" width="751" height="451"></p>
<p><span>Now go to the brush tab, Overlay Brush and chose your color.</span></p>
<p><img id="145459" src="https://i1.code.msdn.s-msft.com/creating-custom-controls-a031a7ea/image/file/145459/1/16.png" alt="" width="751" height="450"></p>
<p><span>So there is your custom control. After that I have design five new profile of my fellows just in one minutes. Simple drag and drop the ProfileDesign Control from and Update the contents.</span></p>
<p><img id="145460" src="https://i1.code.msdn.s-msft.com/creating-custom-controls-a031a7ea/image/file/145460/1/17.png" alt="" width="751" height="451"></p>
<p><span>You can do anything with your custom controls such as, styling, data binding, animation.</span></p>
<p><span>Below is the link of hands on work code.Keep learning...!!<br>
<br>
<a href="https://code.msdn.microsoft.com/Creating-Custom-Controls-a031a7ea/https://github.com/samarkhan140/CustomControls" >https://code.msdn.microsoft.com/Creating-Custom-Controls-a031a7ea/https://github.com/samarkhan140/CustomControls</a></span></p>

</div>


    </div>
</body>
</html>
