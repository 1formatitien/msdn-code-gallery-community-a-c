<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:Header,0:HeaderFooterSprite,0:Header.NonMtps;/Areas/Centers/Themes/StandardDevCenter/Content:0&amp;amp;v=45E1F81190817619088D63CD1DF570EC" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="https://i-msdn.sec.s-msft.com/Combined.css?resources=0:Footer,0:HeaderFooterSprite,0:Footer.NonMtps,1:NewFooterSock,1:LinkList;/Areas/Centers/Themes/StandardDevCenter/Content:0,/Areas/Epx/Themes/Base/Content:1&amp;amp;v=0EB1010DE8878C927A409A8840FF0EDE" xmlns="http://www.w3.org/1999/xhtml" />
<link type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>C# Timer: Schedule a Task</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" />
        <link href="https://i1.code.msdn.s-msft.com/content/common/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="https://i1.code.msdn.s-msft.com/content/common/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>C# Timer: Schedule a Task</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            C#, .NET Framework
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            Timer, Scheduled Task, Background tasks
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Desktop, Web, Cloud, Phone, Data
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Updated</label>
                    <div id="LastUpdated">2/25/2017</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">MIT</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<h1>Introduction</h1>
<p>In this article we will see how to use Timer class in .NET Framework under <a class="libraryLink" href="https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://msdn.microsoft.com/en-US/library/System.Timers.aspx"  title="Auto generated link to System.Timers">System.Timers</a> namespace. The example is made of C# use under Console Application. Often we need to schedule our task like need for an event to be triggered at various absolute time.
 For example every 24 hour, everyday at certain time etc. We can achieve this in various way like using Windows Task Scheduler. But here we will see how we can use Timer class in .NET Framework to achieve this scheduled job. This sample illustrates a way to
 let user to know how they can schedule a task using timer.</p>
<h1>What is timer?</h1>
<p>According to MSDN <a href="https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://msdn.microsoft.com/en-us/library/system.timers.timer(v=vs.110).aspx"  style="margin:0px; padding:0px; outline:0px; border:currentcolor; color:#0076a3; line-height:16.12px; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:12px; list-style-type:none; background-color:#ffffff">
documentation</a> <strong>Generates an event after a set interval, with an option to generate recurring events.</strong> So, the Timer allows us to set a time interval to periodically execute an event at a specified interval. It is useful when we want to execute
 certain functions/applications after a certain interval. <br>
<br>
The C# timer event keeps track of time just like a clock would, it is basically an accessible clock and counts in milliseconds, thousandths of a second. This allows for great detail.
<br>
<br>
Code structure inside the timer:</p>
<p>&nbsp;</p>
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C#</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">csharp</span>
<pre class="hidden">private void timer1_Tick(object sender, EventArgs e)
{
    //events occur when timer stops
    timer.Stop();
    Console.WriteLine(&quot;Hello World!!!&quot;); //Code to     Perform Task goes in between here
    timer.Start();
}
</pre>
<div class="preview">
<pre class="csharp"><span class="cs__keyword">private</span>&nbsp;<span class="cs__keyword">void</span>&nbsp;timer1_Tick(<span class="cs__keyword">object</span>&nbsp;sender,&nbsp;EventArgs&nbsp;e)&nbsp;
{&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="cs__com">//events&nbsp;occur&nbsp;when&nbsp;timer&nbsp;stops</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;timer.Stop();&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;Console.WriteLine(<span class="cs__string">&quot;Hello&nbsp;World!!!&quot;</span>);&nbsp;<span class="cs__com">//Code&nbsp;to&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perform&nbsp;Task&nbsp;goes&nbsp;in&nbsp;between&nbsp;here</span>&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;timer.Start();&nbsp;
}&nbsp;
</pre>
</div>
</div>
</div>
<h1>Schedule a Task</h1>
<p><em>Scheduling a task in code</em> this term means any code that does something, causes something to happen, and has action to it. Example:</p>
<ul>
<li>Making an object appear </li><li>Making an object move </li><li>Fire any event </li><li>Trigger functions </li></ul>
<p>Timer counts automatically. When the timer counts down the amount of time set in the preferences, it executes whatever code is in it, then it automatically restarts and counts down again.</p>
<h1><span>Output</span></h1>
<h1><img id="170318" src="https://i1.code.msdn.s-msft.com/c-timer-schedule-a-task-93ebcf45/image/file/170318/1/output_scheduletimer.png" alt="" width="672" height="336"></h1>
<h1>Technicalities</h1>
<p>We looked at the Timer class from the <em><a class="libraryLink" href="https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://msdn.microsoft.com/en-US/library/System.Timers.aspx"  title="Auto generated link to System.Timers">System.Timers</a></em> namespace in .NET Framework. One point we may want to consider when working with timers is whether our problem can be solved more simply by using the Windows Scheduler to run a standard executable
 periodically. Here timer is used to fires off a program at a given time. We could also use timer in following cases:</p>
<ul>
<li>Fire off a program at a given time </li><li>Display the time on the screen </li><li>Create a backup routine that copies important data at a given interval </li><li>Can create a routine to automatically log off a user or end a program after a given time period with no activity
</li><li>Create a WCF service add timer to schedule a job </li></ul>
<p>Beside these numerous ways timer can be used.</p>
<h1>Note</h1>
<ul>
<li>Article detailed the creation of this project: <a href="https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://social.technet.microsoft.com/wiki/contents/articles/37252.c-timer-schedule-a-task.aspx"  style="margin:0px; padding:0px; outline:0px; border:currentcolor; color:#0076a3; line-height:16.12px; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:12px; list-style-type:none; background-color:#ffffff">
C# Timer: Schedule a Task </a></li><li>Timer class under <em><a class="libraryLink" href="https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://msdn.microsoft.com/en-US/library/System.Timers.aspx"  title="Auto generated link to System.Timers">System.Timers</a></em> namespace <a href="https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://msdn.microsoft.com/en-us/library/system.timers.timer(v=vs.110).aspx"  style="margin:0px; padding:0px; outline:0px; border:currentcolor; color:#0076a3; line-height:16.12px; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:12px; list-style-type:none; background-color:#ffffff">
here</a> </li><li>All about .NET Timers - A Comparison <a href="https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://www.codeproject.com/Articles/167365/All-about-NET-Timers-A-Comparison"  style="margin:0px; padding:0px; outline:0px; border:currentcolor; color:#0076a3; line-height:16.12px; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:12px; list-style-type:none; background-color:#ffffff">
here</a> </li><li>Introduction to Server-Based Timers <a href="https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://msdn.microsoft.com/en-us/library/tb9yt5e6(v=vs.110).aspx"  style="margin:0px; padding:0px; outline:0px; border:currentcolor; color:#0076a3; line-height:16.12px; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:12px; list-style-type:none; background-color:#ffffff">
here</a> </li><li>Task Scheduler <a href="https://code.msdn.microsoft.com/C-Timer-Schedule-a-Task-93ebcf45/https://msdn.microsoft.com/en-us/library/windows/desktop/aa383614(v=vs.85).aspx"  style="margin:0px; padding:0px; outline:0px; border:currentcolor; color:#0076a3; line-height:16.12px; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:12px; list-style-type:none; background-color:#ffffff">
here</a> </li></ul>

</div>


    </div>
</body>
</html>
