# Create a Graphical Win32 Window in a Console Application
## Requires
- Visual Studio 2013
## License
- MIT
## Technologies
- Win32
## Topics
- C++
- Cross Platform Code Reuse
- Visual Studio
- How to
## Updated
- 10/12/2015
## Description

<h1><span style="font-size:20px; font-weight:bold">Introduction</span></h1>
<p>This sample demonstrates how&nbsp;you can&nbsp;get all of the values that would have been passed as parameters to WinMain in a Win32 application from a Console application. It also shows how to use &quot;main&quot; instead of &quot;wmain&quot; or &quot;wWinMain&quot; as the entry point
 for a Unicode application for ISO C&#43;&#43; compliance.</p>
<p>The code in this sample is designed only for Unicode programs.&nbsp; It can be adapted for old ASCII/MBCS programs if needed, however the Unicode version of&nbsp;at least one of the functions used in this program is guaranteed to succeed while its ASCII/MBCS
 counterpart could fail. Check all Windows API documentation and include proper error handling where necessary if you intend to use the functionality demonstrated in this sample in a legacy ASCII/MBCS project.</p>
<h1><span style="font-size:20px; font-weight:bold">Description</span></h1>
<p>The WinMain function (&nbsp;<a href="http://msdn.microsoft.com/en-us/library/ff381406(v=vs.85).aspx">http://msdn.microsoft.com/en-us/library/ff381406(v=vs.85).aspx</a>&nbsp;) in a Unicode application has the following prototype:</p>
<div class="title">
<div class="scriptcode">
<div class="pluginEditHolder" pluginCommand="mceScriptCode">
<div class="title"><span>C&#43;&#43;</span></div>
<div class="pluginLinkHolder"><span class="pluginEditHolderLink">Edit</span>|<span class="pluginRemoveHolderLink">Remove</span></div>
<span class="hidden">cplusplus</span>
<pre class="hidden">int WINAPI wWinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPWSTR lpCmdLine, int nCmdShow);</pre>
<div class="preview">
<pre class="cplusplus"><span class="cpp__datatype">int</span>&nbsp;WINAPI&nbsp;wWinMain(<span class="cpp__datatype">HINSTANCE</span>&nbsp;hInstance,&nbsp;<span class="cpp__datatype">HINSTANCE</span>&nbsp;hPrevInstance,&nbsp;<span class="cpp__datatype">LPWSTR</span>&nbsp;lpCmdLine,&nbsp;<span class="cpp__datatype">int</span>&nbsp;nCmdShow);</pre>
</div>
</div>
</div>
</div>
<p>&nbsp;</p>
<p>The sample includes four helper functions found in the WinMainParameters.h header file.</p>
<ul>
<li>The GetHInstance function&nbsp;returns the value that would have been&nbsp;in the &quot;HINSTANCE hInstance&quot; parameter.
</li><li>The GetHPrevInstance function&nbsp;returns the value that would have been&nbsp;in the &quot;HINSTANCE hPrevInstance&quot; parameter.
</li><li>The GetLPCmdLine function&nbsp;returns the value that would have been&nbsp;in the &quot;LPWSTR lpCmdLine&quot; parameter.
</li><li>The GetNCmdShow function&nbsp;returns the value that would have been&nbsp;in the &quot;int nCmdShow&quot; parameter.
</li></ul>
<p>The sample uses these&nbsp;functions to create a Win32 window based on the code generated by the C&#43;&#43; Win32 Application project template. The project itself is a Win32 Console application. As noted in the sample, if you want to use &quot;main&quot; as your starting
 point in an application but do not need a console window, you can set the /ENTRY and /SUBSYSTEM linker options to &quot;mainCRTStartup&quot; and &quot;WINDOWS&quot;, respectively, in order to obtain that behavior.</p>
<h1>More Information</h1>
<p>For more information about the /ENTRY linker option, including how to set its value in a C&#43;&#43; project's properties, see:
<a href="http://msdn.microsoft.com/en-us/library/f9t8842e.aspx">http://msdn.microsoft.com/en-us/library/f9t8842e.aspx</a> .</p>
<p>For more information about the /SUBSYSTEM linker option, including how to set its value in a C&#43;&#43; project's properties, see:
<a href="http://msdn.microsoft.com/en-us/library/fcc1zstk.aspx">http://msdn.microsoft.com/en-us/library/fcc1zstk.aspx</a> .</p>
