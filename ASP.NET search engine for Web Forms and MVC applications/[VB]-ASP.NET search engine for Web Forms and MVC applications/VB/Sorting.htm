<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <title>Example of single page searching</title>
    <link href="Keyoti_SearchEngine_Web_Common/SearchUnit.css" rel="stylesheet" type="text/css" />
    <script src="Keyoti_SearchEngine_Web_Common/SearchUnit.js" type="text/javascript"></script>
    <script type="text/javascript">
        keyotiSearch.useWCFService=true;
        
        //this function will format the date to the user's local, instead of yyyy-mm-dd format
        keyotiTemplateUtility.formatCustomData = function(customDataDictionaryItemName, value) {
            if (customDataDictionaryItemName == 'publishDate' && value != null && value.length == 10) {
                var date = new Date(value.substring(0, 4), value.substring(5, 7) - 1, value.substring(8, 10));
                return date.toLocaleDateString();
            }

            //default provide as-is.
            return value;
        };    </script>

    <link href="_Stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>

    <div id='header'>
        <img src="/images/title-left.png" alt='title' title='Keyoti' />
    </div>
    <div id='content'>
        
        <h1><a href="/index.htm">SearchUnit - Basic Examples</a> : Sorting</h1>

        <p>Result sorting based on custom data.</p>
        
        
        

        <div id="sew_searchBoxControl"></div>
        <small>Try keywords like: soup, cheese, chicken, salt</small>
         <div style="max-width:800px;">
            
            <div id="sew_searchResultControl">
                <div id="sew_resultView">

                <div id="sew_resultHeader">
                    <div id="sew_headerTEMPLATE" class="sew_header">
                        Showing result page <b>${PageNumber}</b>. There are 
                        <b>${NumberOfResults}</b> results for <b>&#8220;${Query}&#8221;</b>.
                        <span id="sew_ignoredWords">The following common words were ignored: ${IgnoredWords}</span>
                        <div id="sew_sortControl">
                            <!--
                                {"Options":[ 
                                                {"Label":"Preparation time (ascending)", "Field":"preparationTime", "Direction":"ASC", "Type":"int"},
                                                {"Label":"Preparation time (descending)", "Field":"preparationTime", "Direction":"DES", "Type":"int"},
                                                {"Label":"Recipe date (newest first)", "Field":"publishDate", "Direction":"DES", "Type":"Date"},
                                                {"Label":"Recipe date (oldest first)", "Field":"publishDate", "Direction":"ASC", "Type":"Date"},
                                                {"Label":"Spiciness (mildest first)", "Field":"spiciness", "Direction":"ASC", "Type":"int"},
                                                {"Label":"Spiciness (hottest first)", "Field":"spiciness", "Direction":"DES", "Type":"int"}                                            
                                ]}
                            -->
                        </div>
                   </div>
                </div>

                <div id="sew_resultList">
                        <span id="sew_resultItemTEMPLATE" class="sew_resultItem" style="display:block">
                             <div>
                                <div class="sew_resultItemLink"><a href="${UriStringWithKeywords}">${Title}</a></div>                                                                     
                                <div class="sew_resultItemSummary">${Summary}</div>  
                                <br />
                                <div class="resultMetaDataItem ${CustomDataDictionary.preparationTimeDisplayClass}">Preparation time: ${CustomDataDictionary.preparationTime} mins</div>
                                <div class="resultMetaDataItem ${CustomDataDictionary.cookingTimeDisplayClass}">Cooking time: ${CustomDataDictionary.cookingTime} mins</div>
                                <div class="resultMetaDataItem ${CustomDataDictionary.mealTypeDisplayClass}">Meal type: ${CustomDataDictionary.mealType}</div>
                                <div class="resultMetaDataItem ${CustomDataDictionary.freeFromDisplayClass}">Free from: ${CustomDataDictionary.freeFrom}</div>
                                <div class="resultMetaDataItem ${CustomDataDictionary.publishDateDisplayClass}">Recipe date: ${CustomDataDictionary.publishDate}</div>
                             </div>   
                         </span> 
                    </div>
                    <div id="sew_resultFooter"></div>
                </div>
            </div>

        </div>
    </div>    
</body>
</html>
